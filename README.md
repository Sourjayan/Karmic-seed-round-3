# Karmic-seed-round-3

## pricing strategy 
| SKU | Product Description | Current Price | Recommended Price | Strategy | Rationale |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **MN-01** | Rectangle Tray -14 x 10 Inch | $38.90 | **$44.90** | Margin Recovery | Costs ($32.30) require a min price of $40.37. Competitor High is $44.90. |
| **MN-02** | Rectangle Tray -12x10 | $33.90 | **$39.95** | Margin Recovery | Costs ($26.60) require a min price of $33.25. Competitor High is $39.95. |
| **MN-03** | Oval Tray -15x10 Inch | $34.90 | **$42.50** | Margin Recovery | Costs ($30.03) require a min price of $37.54. Competitor High is $42.50. |
| **MN-04** | Oval Tray - 13x9 Inch | $29.90 | **$35.90** | Inventory Discount | Overstock (99 days). Target reduced by 5%. Capped at Comp High ($35.90). |
| **MN-05** | Christmas Tray - 17x12 Inch | $21.90 | **$23.90** | **Liquidation** | **Non-Viable:** Min Margin Price ($34.36) > Market Avg ($23.90). Match market to clear stock. |
| **MN-06** | Star Tray - 14 Inch | $14.95 | **$21.50** | Margin Recovery | Costs ($14.37) require min $19.16. Low stock (0 days). Cap at Comp High ($21.50). |
| **MN-07** | 15 Round plate - pk of 10 | $34.90 | **$41.95** | Margin Recovery | Costs ($29.87) require min $37.33. Competitor High is $41.95. |
| **MN-08** | 10 Inch Heart Plates | $29.90 | **$39.90** | Inventory Discount | Overstock (103 days). Target reduced by 5%. Capped at Comp High ($39.90). |
| **MN-09** | 6 Inch Heart Plates | $14.90 | **$22.90** | Margin Recovery | Costs ($14.92) require min $19.89. Competitor High is $22.90. |
| **MN-10** | 9x6 Rectangle - pk of 25 | $19.90 | **$25.90** | Inventory Discount | Overstock (150 days). Target reduced by 5%. Comp High allows $26.90. |
| **MN-11** | Oval Tray - 13x9 Inch - pk of 10 | $16.90 | **$22.30** | Inventory Discount | Overstock (159 days). Target reduced by 5%. |
| **MN-12** | 13 inch Round DEEP plate | $19.90 | **$27.49** | Margin Recovery | Costs ($17.87) require min $22.33. Target ($27.49) is below Comp High ($27.90). |
| **MN-13** | 14 inch Round DEEP Plate | $22.90 | **$27.38** | Margin Recovery | Costs ($17.80) require min $22.25. Target is well below Comp High ($31.50). |
| **MN-14** | 12 inch Round plate - Pk of 25 | $26.90 | **$35.90** | Margin Recovery | Costs ($24.93) require min $31.16. Competitor High is $35.90. |
| **MN-15** | Rectangle Tray -14x10 Inch - Pk of 10 | $21.90 | **$29.90** | Margin Recovery | Costs ($19.24) require min $24.05. Competitor High is $29.90. |
| **MN-16** | Oval Tray -15x10 Inch - Pk of 10 | $19.90 | **$26.50** | Margin Recovery | Costs ($17.40) require min $21.75. Competitor High is $26.50. |
| **MN-17** | Square Combo 10 & 7 inch | $29.90 | **$39.90** | Margin Recovery | Costs ($27.98) require min $34.97. Competitor High is $39.90. |
| **MN-18** | Round Combo 10 & 7 inch | $26.90 | **$36.90** | Inventory Discount | Overstock (90+ days). Target reduced by 5%. Cap at Comp High ($36.90). |
| **MN-19** | Oval Tray - 22x12 Inch | $36.90 | **$49.90** | Inventory Premium | **Low Stock (15 days).** Target ($50.67) + 5% Scarcity Premium. Cap at Comp High ($49.90). |
| **MN-20** | 3.5 Inch round Bowl | $11.90 | **$16.90** | Margin Recovery | Costs ($11.02) require min $13.77. Competitor High is $16.90. |
| **MN-21** | 11 x 7 Rectangle | $21.90 | **$29.90** | Margin Recovery | Costs ($19.40) require min $24.25. Competitor High is $29.90. |
| **MN-22** | 13 inch Round plate - Pk of 10 | $20.90 | **$27.90** | Margin Recovery | Costs ($19.08) require min $23.85. Competitor High is $27.90. |
| **MN-23** | 2.5 Inch round Bowl - 25 ml | $9.95 | **$14.90** | Margin Recovery | Costs ($10.40) require min $13.00. Competitor High is $14.90. |
| **MN-24** | Rectangle Tray -12x10 | $19.90 | **$22.83** | Inventory Discount | Overstock (106 days). Target reduced by 5%. |
| **MN-25** | 10 inch square - pk of 50 | $34.90 | **$44.90** | Margin Recovery | Costs ($31.21) require min $39.01. Competitor High is $44.90. |
| **MN-26** | 8 inch square - pk of 50 | $29.90 | **$38.90** | Margin Recovery | Costs ($26.85) require min $33.56. Competitor High is $38.90. |
| **MN-27** | 7 inch square - pk of 50 | $28.90 | **$37.20** | Margin Recovery | Costs ($24.18) require min $30.22. Target is below Comp High ($37.90). |
| **MN-28** | 6 inch square - pk of 50 | $24.90 | **$33.90** | Margin Recovery | Costs ($22.47) require min $28.08. Competitor High is $33.90. |
| **MN-29** | 4 inch square - pk of 50 | $21.90 | **$27.24** | Margin Recovery | Costs ($17.71) require min $22.13. Target ($27.24) is below Comp High ($29.90). |
| **MN-30** | 10 inch Round - pk of 50 | $34.90 | **$45.90** | Margin Recovery | Costs ($35.23) require min $44.03. Competitor High is $45.90. |
| **MN-31** | 8 Round - pk of 50 | $28.90 | **$37.90** | Inventory Discount | Overstock (118 days). Target reduced by 5%. Cap at Comp High ($37.90). |
| **MN-32** | 7 Round - pk of 50 | $26.90 | **$34.90** | Margin Recovery | Costs ($23.91) require min $29.88. Competitor High is $34.90. |
| **MN-33** | 6 Round - pk of 50 | $25.90 | **$32.38** | Inventory Discount | Overstock (95 days). Target reduced by 5%. |
| **MN-34** | 9 Square - pk of 50 | $32.90 | **$42.90** | Margin Recovery | Costs ($28.44) require min $35.55. Competitor High is $42.90. |
| **MN-35** | 9 Round - pk of 50 | $31.90 | **$41.90** | Margin Recovery | Costs ($28.49) require min $35.61. Competitor High is $41.90. |
| **MN-36** | 17x12 - Oval Tray - pk of 10 | $29.90 | **$37.90** | Margin Recovery | Costs ($25.05) require min $31.31. Competitor High is $37.90. |
| **MN-37** | 11 Square - pk of 25 | $28.90 | **$36.90** | Inventory Discount | Overstock (116 days). Target reduced by 5%. Cap at Comp High ($36.90). |
| **MN-38** | 3.5 Round Bowl - pk of 100 | $29.90 | **$39.90** | Margin Recovery | Costs ($26.29) require min $32.86. Competitor High is $39.90. |
| **MN-39** | 2.5 Round Bowl - pk of 100 | $24.90 | **$32.90** | Inventory Discount | Overstock (95 days). Target reduced by 5%. Cap at Comp High ($32.90). |
| **MN-40** | 5 inch square - pk of 50 | $23.90 | **$30.26** | Margin Recovery | Costs ($19.67) require min $24.58. Target ($30.26) is below Comp High ($31.90). |
| **MN-41** | 6 inch square - pk of 200 | $78.90 | **$97.57** | Margin Recovery | High volume item. Costs ($63.42) require min $79.27. Target is below Comp High ($99.90). |
| **MN-42** | 4 inch square - pk of 200 | $73.90 | **$78.13** | Margin Recovery | Costs ($50.79) require min $63.48. Target ($78.13) is below Comp High ($94.90). |
| **MN-43** | 3.5 Square Bowl - Pk of 25 | $13.90 | **$16.63** | Margin Recovery | Costs ($10.81) require min $13.51. Target ($16.63) is below Comp High ($19.90). |
| **MN-44** | 2.5 Square Bowl - Pk of 25 | $11.90 | **$14.11** | Inventory Discount | Overstock (99 days). Target reduced by 5%. |
| **MN-45** | 3.5 Square Bowl - Pk of 100 | $29.90 | **$39.50** | Margin Recovery | Costs ($25.68) require min $32.10. Target ($39.50) is below Comp High ($39.90). |
| **MN-46** | 2.5 Square Bowl - Pk of 100 | $26.90 | **$30.67** | Inventory Discount | Overstock (103 days). Target reduced by 5%. |
| **MN-47** | 5 inch square - pk of 200 | $76.90 | **$85.13** | Margin Recovery | Costs ($55.34) require min $69.17. Target ($85.13) is below Comp High ($98.90). |
| **MN-48** | 7 Square - pk of 200 | $89.90 | **$106.12** | Margin Recovery | High volume item. Costs ($68.98) require min $86.22. Target ($106.12) is below Comp High ($109.90). |
| **MN-49** | 11 x 7 Rectangle - pk of 50 | $32.90 | **$41.90** | Margin Recovery | Costs ($30.56) require min $38.20. Competitor High is $41.90. |
| **MN-50** | 9x6 Rectangle - pk of 50 | $29.90 | **$38.90** | Margin Recovery | Costs ($27.60) require min $34.50. Competitor High is $38.90. |

## python script for data analysis and data visualization 
```python
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# Set visualization style
sns.set(style="whitegrid")

# ---------------------------------------------------------
# 1. Data Loading
# ---------------------------------------------------------
# In a real environment, these would be file paths. 
# Here we assume the CSVs are in the current directory.
df_pricing = pd.read_csv('Pricing_Data.csv')
df_inventory = pd.read_csv('Inventory_Health.csv')
df_competitor = pd.read_csv('Competitor_Data.csv')
df_sales = pd.read_csv('Historical_Sales.csv')
df_ads = pd.read_csv('Ads_Performance.csv')
df_returns = pd.read_csv('Returns_Data.csv')

# ---------------------------------------------------------
# 2. Data Cleaning & Aggregation
# ---------------------------------------------------------

# Calculate Total Cost per unit in Pricing Data
# Total Cost = FBA Fee + Storage Fee + Handling Cost + Cost (COGS)
df_pricing['Total_Cost'] = (
    df_pricing['FBA Fee'] + 
    df_pricing['Storage Fee'] + 
    df_pricing['Handling_Cost'] + 
    df_pricing['Cost']
)

# Convert Margin percentages to decimals
df_pricing['Min_Margin_Dec'] = df_pricing['Minimum_Acceptable_Margin_%'].str.rstrip('%').astype('float') / 100.0
df_pricing['Target_Margin_Dec'] = df_pricing['Target_Gross_Margin_'].str.rstrip('%').astype('float') / 100.0

# Aggregate Sales to get average daily units (last 30 days approx)
# Using the provided history to calculate velocity
# We assume the data covers roughly 30 days based on the row count for top SKUs
df_sales_agg = df_sales.groupby('SKU').agg({
    'Units Ordered': 'sum',
    'Ordered Product Sales': 'sum'
}).reset_index()
df_sales_agg.rename(columns={'Units Ordered': 'Total_Units_Sold_History'}, inplace=True)

# ---------------------------------------------------------
# 3. Merging Datasets
# ---------------------------------------------------------
df = df_pricing.merge(df_inventory, on='SKU', how='left')
df = df.merge(df_competitor, on='SKU', how='left')
df = df.merge(df_sales_agg, on='SKU', how='left')

# ---------------------------------------------------------
# 4. Applying the Pricing Logic Framework
# ---------------------------------------------------------

def calculate_recommended_price(row):
    total_cost = row['Total_Cost']
    min_margin = row['Min_Margin_Dec']
    target_margin = row['Target_Margin_Dec']
    
    # 1. Calculate Floor and Target Prices based on Margin
    # Formula: Price = Cost / (1 - Margin)
    min_price = total_cost / (1 - min_margin) if min_margin < 1 else total_cost * 1.5
    target_price = total_cost / (1 - target_margin) if target_margin < 1 else total_cost * 2.0
    
    # 2. Inventory Adjustment Factor
    dos = row['days-of-supply']
    inv_factor = 1.0
    if pd.notna(dos):
        if dos > 90:
            inv_factor = 0.95  # Discount to liquidate
        elif dos < 30:
            inv_factor = 1.05  # Premium on scarcity
    
    # Apply Inventory Adjustment to Target
    dynamic_target = target_price * inv_factor
    
    # 3. Competitive Anchor
    # We cap our price at the Highest Competitor Price to stay competitive
    comp_high = row['Highest_Competitor_Price']
    
    # Handle missing competitor data (set a high cap if missing so margin logic wins)
    if pd.isna(comp_high):
        comp_cap = dynamic_target
    else:
        # Ensure comp_high is numeric (strip $ if necessary, though sample implies clean)
        if isinstance(comp_high, str):
            comp_high = float(comp_high.replace('$', ''))
        comp_cap = comp_high
    
    # 4. Final Logic: Cap at competitor, but don't go below minimum margin
    # Proposed Price
    proposed = min(dynamic_target, comp_cap)
    
    # Sanity Check: If Min Margin is way higher than competitor, we have an unviable product.
    # Strategy: Match Competitor (Liquidation) if Min Margin > Competitor Average
    comp_avg = row['Avg_Competitor_Price']
    if pd.notna(comp_avg):
        if isinstance(comp_avg, str): comp_avg = float(comp_avg.replace('$', ''))
        if min_price > comp_avg:
            # Unprofitable product - Liquidate at Average Price
            return comp_avg
    
    # Otherwise, standard logic
    final_price = max(proposed, min_price)
    
    return round(final_price, 2)

# Apply function
df['Recommended_Price'] = df.apply(calculate_recommended_price, axis=1)

# Calculate projected margins and price changes
df['Proj_Gross_Margin_%'] = ((df['Recommended_Price'] - df['Total_Cost']) / df['Recommended_Price']) * 100
df['Price_Change_$'] = df['Recommended_Price'] - df['Current_Price']
df['Price_Change_%'] = (df['Price_Change_$'] / df['Current_Price']) * 100

# ---------------------------------------------------------
# 5. Data Analysis Outputs
# ---------------------------------------------------------

print("--- Pricing Strategy Analysis Summary ---")
print(f"Total SKUs Analyzed: {len(df)}")
print(f"SKUs requiring Price Increase: {len(df[df['Price_Change_$'] > 0])}")
print(f"SKUs requiring Price Decrease: {len(df[df['Price_Change_$'] < 0])}")
print("\n--- Sample Recommendations (Top 10 by Volume) ---")
# Sort by sales volume to show high impact items
top_skus = df.sort_values(by='Total_Units_Sold_History', ascending=False).head(10)
cols_to_show = ['SKU', 'Product_description', 'Current_Price', 'Recommended_Price', 'Price_Change_%', 'Proj_Gross_Margin_%', 'days-of-supply']
print(top_skus[cols_to_show].to_string(index=False))

# ---------------------------------------------------------
# 6. Visualization
# ---------------------------------------------------------

fig, axes = plt.subplots(2, 2, figsize=(18, 12))
fig.suptitle('XYZ Company Pricing Strategy Dashboard', fontsize=16)

# Plot 1: Current vs Recommended Price (Sample)
plot_data = df.sort_values('Total_Units_Sold_History', ascending=False).head(15)
x = np.arange(len(plot_data['SKU']))
width = 0.35

axes[0, 0].bar(x - width/2, plot_data['Current_Price'], width, label='Current Price', color='skyblue')
axes[0, 0].bar(x + width/2, plot_data['Recommended_Price'], width, label='Recommended Price', color='orange')
axes[0, 0].set_xlabel('SKU')
axes[0, 0].set_ylabel('Price ($)')
axes[0, 0].set_title('Current vs Recommended Price (Top 15 SKUs by Sales)')
axes[0, 0].set_xticks(x)
axes[0, 0].set_xticklabels(plot_data['SKU'], rotation=45, ha='right')
axes[0, 0].legend()

# Plot 2: Margin Recovery
axes[0, 1].scatter(df['Current_Price'], df['Total_Cost'], alpha=0.5, label='Current Position', color='red')
axes[0, 1].scatter(df['Recommended_Price'], df['Total_Cost'], alpha=0.5, label='Projected Position', color='green')
axes[0, 1].plot([0, 100], [0, 100], 'k--', label='Zero Margin') # Approximation of cost line
axes[0, 1].set_xlabel('Price')
axes[0, 1].set_ylabel('Total Unit Cost ($)')
axes[0, 1].set_title('Price vs Cost Positioning')
axes[0, 1].legend()

# Plot 3: Price Change vs Inventory Days of Supply
colors = ['red' if x < 0 else 'green' for x in df['Price_Change_$']]
axes[1, 0].scatter(df['days-of-supply'], df['Price_Change_%'], c=colors, alpha=0.6)
axes[1, 0].axhline(0, color='black', linewidth=1)
axes[1, 0].axvline(30, color='gray', linestyle='--', label='Low Stock Threshold')
axes[1, 0].axvline(90, color='gray', linestyle='--', label='Overstock Threshold')
axes[1, 0].set_xlabel('Days of Supply')
axes[1, 0].set_ylabel('Price Change (%)')
axes[1, 0].set_title('Inventory Health vs. Price Adjustment')
axes[1, 0].legend()

# Plot 4: Competitive Positioning Index
# Index = Our Price / Competitor Avg Price
df['Comp_Index_Current'] = df['Current_Price'] / df['Avg_Competitor_Price']
df['Comp_Index_Rec'] = df['Recommended_Price'] / df['Avg_Competitor_Price']

# Filter for plotting
comp_plot = df.dropna(subset=['Avg_Competitor_Price'])
axes[1, 1].scatter(comp_plot['Comp_Index_Current'], comp_plot['Comp_Index_Rec'], alpha=0.6)
axes[1, 1].plot([0.5, 1.5], [0.5, 1.5], 'k--', alpha=0.5) # Diagonal
axes[1, 1].axhline(1.0, color='blue', linestyle='--', alpha=0.3) # Market Average
axes[1, 1].axvline(1.0, color='blue', linestyle='--', alpha=0.3) # Market Average
axes[1, 1].set_xlabel('Current Price / Competitor Avg')
axes[1, 1].set_ylabel('Recommended Price / Competitor Avg')
axes[1, 1].set_title('Competitive Price Index Shift')

plt.tight_layout(rect=[0, 0.03, 1, 0.95])
plt.show()

# ---------------------------------------------------------
# 7. Save Recommendations
# ---------------------------------------------------------
output_cols = ['SKU', 'Current_Price', 'Recommended_Price', 'Price_Change_$', 'Price_Change_%', 'days-of-supply', 'Avg_Competitor_Price']
df[output_cols].to_csv('Final_Pricing_Recommendations.csv', index=False)
print("\nRecommendations saved to 'Final_Pricing_Recommendations.csv'")
```
